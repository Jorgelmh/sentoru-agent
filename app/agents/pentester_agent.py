import os
from google.adk.agents import LlmAgent

from app.utils.typing import GitPatch
from app.utils.util import load_prompt

pentester_agent = LlmAgent(
  name="PentesterAgent",
  model=os.environ.get("LLM_DEPLOYMENT", ""),
  instruction=load_prompt("pentester_agent"),
  description="Analyzes the codebase and identifies vulnerabilities.",
  output_key="tests",
  output_schema=GitPatch,
)
