import os

from google.adk.agents import LlmAgent

from app.utils.typing import PenetrationTest
from app.utils.util import load_prompt

pentester_agent = LlmAgent(
    name="PentesterAgent",
    model=os.environ.get("LLM_DEPLOYMENT", "gemini-2.0-flash"),
    instruction=load_prompt("pentester_agent"),
    description="Generates penetration tests to ensure the suggested code changes are secure.",
    output_key="pen_tests",
    output_schema=PenetrationTest,
)
